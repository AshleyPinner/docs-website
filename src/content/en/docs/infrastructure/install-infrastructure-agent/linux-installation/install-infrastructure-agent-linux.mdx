---
title: Install the infrastructure agent for Linux
contentType: page
template: basicDoc
topics:
  - Infrastructure
  - Install the infrastructure agent
  - Linux installation
japaneseVersion: >-
  https://docs.newrelic.co.jp/docs/infrastructure/install-infrastructure-agent/linux-installation/install-infrastructure-agent-linux
---

Our infrastructure agent for Linux can be installed using several package managers.

Before installation, make sure to:

* Review the [requirements](/docs/infrastructure/new-relic-infrastructure/getting-started/compatibility-requirements-new-relic-infrastructure).
* Have a valid [New Relic license key](/docs/accounts/install-new-relic/account-setup/license-key).

## Install the agent using our assistant

To install the infrastructure agent, click the button for your Linux distribution and follow the instructions:

![Amazon Linux](./images/amazonlinux.png)

Amazon Linux

![CentOS](./images/centos.png)

CentOS

![Docker](./images/docker-logo-crop.png)

Container (Docker)

**![Debian](./images/debian.png)**

Debian

![Red Hat](./images/red-hat-new2.png)

RHEL

![SLES](./images/suse.png)

SLES

![Ubuntu](./images/ubuntu.png)

Ubuntu

![Other Linux OS](./images/otherlinux.png)

Other Linux distros

To use the links above, you must be logged to your New Relic account.

If you don't have a New Relic account yet, or prefer to follow the procedure manually, see our [step-by-step tutorial](#manual-install) in the next section.

## Step-by-step instructions

To install the infrastructure agent in Linux, follow these instructions:

1. Create the configuration file and add your [license key](/docs/accounts-partnerships/accounts/account-setup/license-key):

   ```
   echo "license_key: YOUR_LICENSE_KEY" | sudo tee -a /etc/newrelic-infra.yml
   ```
2. Determine the distribution version number:

   <CollapserGroup>
     <Collapser
       id="debian-version"
       title="Debian"
     >
       ```
       cat /etc/os-release
       ```
     </Collapser>

     <Collapser
       id="ubuntu-version"
       title="Ubuntu"
     >
       ```
       cat /etc/lsb-release
       ```
     </Collapser>

     <Collapser
       id="amazon-rhel-centos-version"
       title={<> Amazon Linux,  CentOS,  RHEL</>}
     >
       ```
       cat /etc/os-release
       ```
     </Collapser>

     <Collapser
       id="sles-version"
       title="SLES"
     >
       ```
       cat /etc/os-release | grep VERSION_ID
       ```
     </Collapser>
   </CollapserGroup>
3. Enable New Relic's GPG key.

   <CollapserGroup>
     <Collapser
       id="debian-gpg"
       title="Debian"
     >
       ```
       curl -s https://download.newrelic.com/infrastructure_agent/gpg/newrelic-infra.gpg | sudo apt-key add -
       ```
     </Collapser>

     <Collapser
       id="ubuntu-gpg"
       title="Ubuntu"
     >
       ```
       curl -s https://download.newrelic.com/infrastructure_agent/gpg/newrelic-infra.gpg | sudo apt-key add -
       ```
     </Collapser>

     <Collapser
       id="amazon-rhel-centos-gpg"
       title={<> Amazon Linux,  CentOS,  RHEL</>}
     >
       yum automatically installs the GPG key using the value in `gpgkey`.
     </Collapser>

     <Collapser
       id="sles-gpg"
       title="SLES"
     >
       ```
       curl https://download.newrelic.com/infrastructure_agent/gpg/newrelic-infra.gpg -s | sudo gpg --import
       ```

       <Callout variant="important">
         There's a known issue with zypper package manager where GPG keys might not be validated as expected. Please refer to [this article](https://discuss.newrelic.com/t/new-relic-infrastructure-installation/121241/3) when seeing errors like "Signature verification failed".
       </Callout>
     </Collapser>
   </CollapserGroup>
4. Add the infrastructure agent repository:

   <CollapserGroup>
     <Collapser
       id="debian-repository"
       title="Debian"
     >
       **Debian 8 ("Jessie")**

       ```
       printf "deb [arch=amd64] https://download.newrelic.com/infrastructure_agent/linux/apt jessie main" | sudo tee -a /etc/apt/sources.list.d/newrelic-infra.list
       ```

       **Debian 9 ("Stretch")**

       ```
       printf "deb [arch=amd64] https://download.newrelic.com/infrastructure_agent/linux/apt stretch main" | sudo tee -a /etc/apt/sources.list.d/newrelic-infra.list
       ```

       **Debian 10 ("Buster")**

       ```
       printf "deb [arch=amd64] https://download.newrelic.com/infrastructure_agent/linux/apt buster main" | sudo tee -a /etc/apt/sources.list.d/newrelic-infra.list
       ```
     </Collapser>

     <Collapser
       id="ubuntu-repository"
       title="Ubuntu"
     >
       **Ubuntu 12 ("Precise")**

       ```
       printf "deb [arch=amd64] https://download.newrelic.com/infrastructure_agent/linux/apt precise main" | sudo tee -a /etc/apt/sources.list.d/newrelic-infra.list
       ```

       **Ubuntu 14 ("Trusty")**

       ```
       printf "deb [arch=amd64] https://download.newrelic.com/infrastructure_agent/linux/apt trusty main" | sudo tee -a /etc/apt/sources.list.d/newrelic-infra.list
       ```

       **Ubuntu 16 ("Xenial")**

       ```
       printf "deb [arch=amd64] https://download.newrelic.com/infrastructure_agent/linux/apt xenial main" | sudo tee -a /etc/apt/sources.list.d/newrelic-infra.list
       ```

       **Ubuntu 18 ("Bionic")**

       ```
       printf "deb [arch=amd64] https://download.newrelic.com/infrastructure_agent/linux/apt bionic main" | sudo tee -a /etc/apt/sources.list.d/newrelic-infra.list
       ```
     </Collapser>

     <dd>
       **Ubuntu 20 ("Focal")**

       ```
       printf "deb [arch=amd64] https://download.newrelic.com/infrastructure_agent/linux/apt focal main" | sudo tee -a /etc/apt/sources.list.d/newrelic-infra.list
       ```
     </dd>

     <Collapser
       id="amazon-linux-repository"
       title="Amazon Linux"
     >
       **Amazon Linux**

       ```
       sudo curl -o /etc/yum.repos.d/newrelic-infra.repo https://download.newrelic.com/infrastructure_agent/linux/yum/el/6/x86_64/newrelic-infra.repo
       ```

       **Amazon Linux 2**

       ```
       sudo curl -o /etc/yum.repos.d/newrelic-infra.repo https://download.newrelic.com/infrastructure_agent/linux/yum/el/7/x86_64/newrelic-infra.repo
       ```
     </Collapser>

     <Collapser
       id="centos-rhel-repository"
       title={<> CentOS /  RHEL</>}
     >
       **CentOS 5.x, RHEL 5.x**

       ```
       sudo curl -o /etc/yum.repos.d/newrelic-infra.repo https://download.newrelic.com/infrastructure_agent/linux/yum/el/5/x86_64/newrelic-infra.repo
       ```

       **CentOS 6.x, RHEL 6.x**

       ```
       sudo curl -o /etc/yum.repos.d/newrelic-infra.repo https://download.newrelic.com/infrastructure_agent/linux/yum/el/6/x86_64/newrelic-infra.repo
       ```

       **CentOS 7.x, RHEL 7.x**

       ```
       sudo curl -o /etc/yum.repos.d/newrelic-infra.repo https://download.newrelic.com/infrastructure_agent/linux/yum/el/7/x86_64/newrelic-infra.repo
       ```

       **CentOS 8.x, RHEL 8.x**

       ```
       sudo curl -o /etc/yum.repos.d/newrelic-infra.repo https://download.newrelic.com/infrastructure_agent/linux/yum/el/8/x86_64/newrelic-infra.repo
       ```
     </Collapser>

     <Collapser
       id="amazon-linux-repository"
       title="SLES"
     >
       **SLES 11.4**

       ```
       sudo curl -o /etc/zypp/repos.d/newrelic-infra.repo https://download.newrelic.com/infrastructure_agent/linux/zypp/sles/11.4/x86_64/newrelic-infra.repo
       ```

       **SLES 12.1**

       ```
       sudo curl -o /etc/zypp/repos.d/newrelic-infra.repo https://download.newrelic.com/infrastructure_agent/linux/zypp/sles/12.1/x86_64/newrelic-infra.repo
       ```

       **SLES 12.2**

       ```
       sudo curl -o /etc/zypp/repos.d/newrelic-infra.repo https://download.newrelic.com/infrastructure_agent/linux/zypp/sles/12.2/x86_64/newrelic-infra.repo
       ```

       **SLES 12.3**

       ```
       sudo curl -o /etc/zypp/repos.d/newrelic-infra.repo https://download.newrelic.com/infrastructure_agent/linux/zypp/sles/12.3/x86_64/newrelic-infra.repo
       ```

       **SLES 12.4**

       ```
       sudo curl -o /etc/zypp/repos.d/newrelic-infra.repo https://download.newrelic.com/infrastructure_agent/linux/zypp/sles/12.4/x86_64/newrelic-infra.repo
       ```
     </Collapser>
   </CollapserGroup>
5. Refresh the repositories:

   <CollapserGroup>
     <Collapser
       id="debian-update-repo"
       title="Debian"
     >
       ```
       sudo apt-get update
       ```
     </Collapser>

     <Collapser
       id="ubuntu-update-repo"
       title="Ubuntu"
     >
       ```
       sudo apt-get update
       ```
     </Collapser>

     <Collapser
       id="amazon-rhel-centos-update-repo"
       title={<> Amazon Linux,  CentOS,  RHEL</>}
     >
       ```
       sudo yum -q makecache -y --disablerepo='*' --enablerepo='newrelic-infra'
       ```
     </Collapser>

     <Collapser
       id="sles-update-repo"
       title="SLES"
     >
       ```
       sudo zypper -n ref -r newrelic-infra
       ```
     </Collapser>
   </CollapserGroup>
6. Install the `newrelic-infra` package in root (default), privileged user, or unprivileged user mode. For more information on each running mode, see [Linux agent running modes](/docs/infrastructure/install-configure-infrastructure/linux-installation/linux-agent-running-modes).

   <CollapserGroup>
     <Collapser
       id="install-root"
       title="Root (default)"
     >
       * **![Debian.png](./images/Debian.png "Debian.png") Debian and ![ubuntu icon](./images/ubuntu-icon.png "ubuntu icon") Ubuntu**:

         ```
         sudo apt-get install newrelic-infra -y
         ```
       * **![amazon linux.png](./images/amazon-linux.png "amazon linux.png") Amazon Linux, ![centos icon](./images/centos-icon.png "centos icon") CentOS, ![redhat icon](./images/red-hat-new2.png "redhat icon") RHEL**:

         ```
         sudo yum install newrelic-infra -y
         ```
       * **![suse icon](./images/suse-icon.png "suse icon") SLES**:

         ```
         sudo zypper -n install newrelic-infra
         ```
     </Collapser>

     <Collapser
       id="privileged-mode"
       title="Privileged user"
     >
       Install the libcap library and set the `NRIA_MODE` environment variable to `PRIVILEGED`.

       * **![Debian.png](./images/Debian.png "Debian.png") Debian and ![ubuntu icon](./images/ubuntu-icon.png "ubuntu icon") Ubuntu**:

         ```
         sudo apt-get install libcap2-bin
         ```

         ```
         sudo NRIA_MODE="PRIVILEGED" apt-get install newrelic-infra
         ```
       * **![amazon linux.png](./images/amazon-linux.png "amazon linux.png") Amazon Linux, ![centos icon](./images/centos-icon.png "centos icon") CentOS, ![redhat icon](./images/red-hat-new2.png "redhat icon") RHEL**:

         ```
         sudo yum install libcap
         ```

         ```
         sudo NRIA_MODE="PRIVILEGED" yum install newrelic-infra
         ```
       * **![suse icon](./images/suse-icon.png "suse icon") SLES**:

         ```
         sudo zypper install libcap-progs
         ```

         ```
         sudo NRIA_MODE="PRIVILEGED" zypper install newrelic-infra
         ```
     </Collapser>

     <Collapser
       id="unprivileged-mode"
       title="Unprivileged user"
     >
       Install the libcap library and set the `NRIA_MODE` environment variable to `UNPRIVILEGED`.

       * **![Debian.png](./images/Debian.png "Debian.png") Debian and ![ubuntu icon](./images/ubuntu-icon.png "ubuntu icon") Ubuntu**:

         ```
         sudo apt-get install libcap2-bin
         ```

         ```
         sudo NRIA_MODE="UNPRIVILEGED" apt-get install newrelic-infra
         ```
       * **![amazon linux.png](./images/amazon-linux.png "amazon linux.png") Amazon Linux, ![centos icon](./images/centos-icon.png "centos icon") CentOS, ![redhat icon](./images/red-hat-new2.png "redhat icon") RHEL**:

         ```
         sudo yum install libcap
         ```

         ```
         sudo NRIA_MODE="UNPRIVILEGED" yum install newrelic-infra
         ```
       * **![suse icon](./images/suse-icon.png "suse icon") SLES**:

         ```
         sudo zypper install libcap-progs
         ```

         ```
         sudo NRIA_MODE="UNPRIVILEGED" zypper install newrelic-infra
         ```
     </Collapser>
   </CollapserGroup>

Once the agent is installed or updated, you can [start, stop, or check the infrastructure agent status](https://docs.newrelic.com/docs/infrastructure/new-relic-infrastructure/configuration/start-stop-restart-check-infrastructure-agent-status).

<Callout variant="important">
  As of [version 1.4.0](/docs/release-notes/infrastructure-release-notes/infrastructure-agent-release-notes/new-relic-infrastructure-agent-140), the infrastructure agent package includes the additional `newrelic-infra-ctl` binary, which is used to help troubleshoot a running agent. Although this binary is not required to execute the agent, we recommend to [add it in your path](/docs/infrastructure/install-configure-manage-infrastructure/manage-your-agent/troubleshoot-running-agent).
</Callout>

## Install using configuration management tools

To install the infrastructure agent with a configuration management tool, see the documentation for:

* ![Ansible](./images/ansible-red-logo.png "Ansible")[Ansible](/docs/infrastructure/new-relic-infrastructure/config-management-tools/configure-new-relic-infrastructure-using-ansible)
* ![Chef](./images/chef-logo.png "Chef")[Chef](/docs/infrastructure/new-relic-infrastructure/config-management-tools/configure-new-relic-infrastructure-using-chef)
* ![Docker](./images/docker-logo-crop.png "Docker")[Docker](/docs/infrastructure/install-infrastructure-agent/linux-installation/docker-container-infrastructure-monitoring) (install as container)
* ![EBS](./images/ebs.png "EBS")[Elastic Beanstalk](/docs/infrastructure/install-infrastructure-agent/config-management-tools/install-infrastructure-agent-aws-elastic-beanstalk)
* ![Puppet](./images/puppet-logo.png "Puppet")[Puppet](/docs/infrastructure/new-relic-infrastructure/config-management-tools/configure-new-relic-infrastructure-puppet)

## Install for Docker containers on instrumented hosts

See [Docker instrumentation for Infrastructure monitoring](/docs/infrastructure/new-relic-infrastructure/data-instrumentation/docker-instrumentation-infrastructure).

## Install using Azure extensions

See [Azure extensions for Infrastructure](/docs/infrastructure/install-infrastructure-agent/linux-installation/azure-extensions-infrastructure).

## Install using tarball files

For **custom** setup scenarios, you can install the agent using [our tarball files](https://download.newrelic.com/infrastructure_agent/binaries/linux/) in [assisted](/docs/infrastructure/install-configure-manage-infrastructure/linux-installation/tarball-assisted-install-infrastructure-linux) or [manual](/docs/infrastructure/install-configure-manage-infrastructure/linux-installation/tarball-manual-install-infrastructure-linux) modes.

This is especially useful when you need to adapt the default installation settings to your environment, or to install the infrastructure agent on distributions that lack the `newrelic-infra` package in their repositories.

<Callout variant="important">
  Installing the agent using tarball files is officially supported only for the [AWS Graviton 2 processor](https://aws.amazon.com/ec2/graviton/).
</Callout>

## Update the agent

Follow standard procedures to [update the infrastructure agent](/docs/update-infrastructure-agent).

If you are using `sudo` to install or update the agent, use the `-E` argument to allow bypassing the environment variables, or specify the `NRIA_MODE` environment variable just after `sudo`.

```
export NRIA_MODE="SET_MODE_HERE"
```

OR

```
sudo -E YOUR_PACKAGE_MANAGER_UPDATE_COMMAND
```

## What's next?

Generate some traffic and wait a few minutes, then [view your hosts in the Infrastructure monitoring UI](/docs/infrastructure-metrics). If no data appears after waiting a few minutes, see [No data appears](/docs/infrastructure/new-relic-infrastructure/troubleshooting/no-data-appears-infrastructure).

The only required [configuration option](/docs/infrastructure/install-configure-infrastructure/configuration/configure-infrastructure-agent) is the [`license_key`](/docs/Infrastructure-configure-your-agent#conf-license_key) setting, which is created as part of the installation procedures. You may also want to:

* [Add custom attributes](/docs/Infrastructure-configure-your-agent#conf-custom_attributes) to annotate your infrastructure data.
* [Connect your AWS account](/docs/infrastructure-amazon-aws-ec2-integration#connect) if your servers are hosted on Amazon EC2.
* Enable [log forwarding](/docs/logs/enable-new-relic-logs/1-enable-logs/forward-your-logs-using-new-relic-infrastructure-agent).
* Add other [New Relic infrastructure integrations](/docs/infrastructure/integrations-getting-started/getting-started/introduction-infrastructure-integrations) to collect data from external services.

<Callout variant="important">
  The hostname for your server cannot be `localhost`. Data will not be reported for servers with that name. Make sure the host name uses a [unique name](https://docs.newrelic.com/docs/infrastructure/new-relic-infrastructure/getting-started/compatibility-requirements-new-relic-infrastructure#hostname).
</Callout>
