---
title: Security Bulletin NR17-05
contentType: page
template: basicDoc
topics:
  - Security
  - Security and Privacy
  - Security bulletins
japaneseVersion: ''
---

## Summary

A security update for New Relic's Java agent fixes a vulnerability where the agent could unintentionally capture full SQL queries when SQL obfuscation is enabled.

**Release date:** May 30, 2017

**Vulnerability identifier:** NR17-05

**Priority:** High

## Affected software

The following New Relic agent versions are affected:

<Table>
  <tbody>
    <tr>
      <th>
        **Name**
      </th>

      <th>
        **Affected version**
      </th>

      <th>
        **Notes**
      </th>

      <th>
        **Remediated version**
      </th>
    </tr>

    <tr>
      <td>
        Java agent
      </td>

      <td>
        3.0.0-3.39.0
      </td>

      <td>
        With SQL obfuscation
      </td>

      <td>
        [3.39.1](https://docs.newrelic.com/docs/release-notes/agent-release-notes/java-release-notes)
      </td>
    </tr>
  </tbody>
</Table>

## Vulnerability information

New Relicâ€™s Java agent can be configured to obfuscate SQL query information. This setting is forced when [high security mode](/docs/agents/manage-apm-agents/configuration/high-security-mode) is enabled. New Relic has found that, when an exception is thrown during the query, full SQL query information may still be captured as part of the error trace when SQL obfuscation is enabled. A fix has been made to disable the collection of this information during error collection. Customers are encouraged to upgrade to the [latest version of the Java agent](/docs/release-notes/agent-release-notes/java-release-notes).

### Mitigating factors

* Only Java agents using SQL obfuscation are affected.

## Workarounds

New Relic has not identified any workarounds for this vulnerability.

## Report security vulnerabilities to New Relic

New Relic is committed to the security of our customers and their data. If you believe you have found a security vulnerability in one of our products or websites, we welcome and greatly appreciate you reporting it to New Relic's coordinated disclosure program. For more information, see [Reporting security vulnerabilities](/docs/security/new-relic-security/data-privacy/reporting-security-vulnerabilities).

## For more help

Additional documentation resources include:.

* [Upgrade the Java agent](https://docs.newrelic.com/docs/agents/java-agent/installation/upgrade-java-agent)
* [NR Security](https://newrelic.com/why-new-relic/security "Link opens in a new window.")
