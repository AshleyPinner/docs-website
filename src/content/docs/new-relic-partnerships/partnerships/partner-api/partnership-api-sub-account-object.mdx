---
title: Partnership API sub-account object
contentType: page
template: basicDoc
topics:
  - New Relic partnerships
  - Partnerships
  - Partner API
japaneseVersion: ''
---

Accounts are the basic administrative unit of the New Relic system. As a partner, use the sub-account object with the [Partnership API](/docs/new-relic-partnerships/partnerships/partner-api/partner-api-reference) to create [sub-accounts](/docs/accounts/install-new-relic/account-setup/manage-apps-or-users-sub-accounts).

* A parent account may have more than one associated sub_account, but every sub_account must correspond to one and only one parent account.
* Every sub_account must have at least a primary_admin user.
* You cannot create a sub_account without connecting it to an existing parent account and adding at least one user.

To manage existing master or sub-accounts, use the [Partnership API account object](https://docs.newrelic.com/docs/new-relic-partnerships/partnerships/partner-api/partnership-api-account-object).

<Callout variant="important">
  This information is for version 2 of the Partnership API. Use v2 for all new integrations. Earlier versions have been deprecated. If you have problems with an older integration, upgrade to version 2.
</Callout>

## Sub-account object attributes

Here are the Partnership API sub-account object's attributes.

<CollapserGroup>
  <Collapser
    id="attr-name"
    title="name (REQUIRED)"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            String
          </td>
        </tr>

        <tr>
          <th>
            Default:
          </th>

          <td>
            (none)
          </td>
        </tr>
      </tbody>
    </Table>

    This name must be unique in New Relic's database. If the specified name is not unique, it will be auto-incremented with a numeric suffix as follows:

    ```
    conflicting_name_1
    conflicting_name_2
    etc.
    ```
  </Collapser>

  <Collapser
    id="attr-allow-access"
    title="allow_api_access"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default:
          </th>

          <td>
            False
          </td>
        </tr>
      </tbody>
    </Table>

    This flag allows API access to application data. This must be set to `true` for partnerships remotely administering accounts.
  </Collapser>

  <Collapser
    id="attr-testing"
    title="testing"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Boolean
          </td>
        </tr>

        <tr>
          <th>
            Default:
          </th>

          <td>
            False
          </td>
        </tr>
      </tbody>
    </Table>

    Use this flag to indicate a test account. Test accounts are assumed to contain garbage data and are ignored by internal systems. The data they generate may be deleted at any time.
  </Collapser>

  <Collapser
    id="attr-users"
    title="users (REQUIRED)"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            Array
          </td>
        </tr>

        <tr>
          <th>
            Default:
          </th>

          <td>
            (none)
          </td>
        </tr>
      </tbody>
    </Table>

    An array defining a list of users. When you create the sub-account, only one user can be defined: the account `Owner`. To add additional users, use the [Partnership API user object](/docs/new-relic-partnerships/partnerships/partner-api/partnership-api-user-object).
  </Collapser>

  <Collapser
    id="attr-subscriptions"
    title="password (REQUIRED)"
  >
    <Table>
      <tbody>
        <tr>
          <th>
            Type:
          </th>

          <td>
            String
          </td>
        </tr>

        <tr>
          <th>
            Default:
          </th>

          <td>
            (none)
          </td>
        </tr>
      </tbody>
    </Table>

    If you are creating a sub-account with an existing user as the account `Owner`, the password _must_ match the user's current password.
  </Collapser>
</CollapserGroup>

Sub-accounts can also be created via the master account's [**Account settings** page](/docs/accounts/install-new-relic/account-setup/manage-apps-or-users-sub-accounts) in the New Relic UI.

## Sub-account API calls

Here is the URL pattern to create sub-accounts. Notice that the Parent Account ID must be specified. If using this URL pattern, send the JSON object along with an HTTP header containing the [Partner API key](https://docs.newrelic.com/docs/new-relic-partnerships/partnerships/partner-api/partner-api-reference#the-api-key). For example:

```
POST .../api/v2/partners/:PARTNER_ID/accounts/:PARENT_ACCOUNT_ID/sub_accountsâ€‹
x-api-key: :PARTNER_ACCOUNT_KEY
Content-Type: application/json

{ JSON data }
```

<Table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}>
        Call
      </th>

      <th>
        Resource URL pattern
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        **Create** a sub-account with the given parameters.
      </td>

      <td>
        ```
        POST /api/v2/partners/:PARTNER_ID/accounts/:PARENT_ACCOUNT_ID/sub_accounts
        ```
      </td>
    </tr>
  </tbody>
</Table>

## 

JSON example

Here is an example of a JSON request and response using the Partnership API sub-account object.

<CollapserGroup>
  <Collapser
    id="account-request"
    title="Sub-account object JSON request"
  >
    ```
    {
      "account": {
        "name": "Sample Sub-Account",
        "users": [
          {
            "email": "sample_user@sample.org",
            "password": "XXXXXXXX",
            "owner": true,
            "role": "admin",
            "first_name": "Sample",
            "last_name": "User"
          }
        ],
        "allow_api_access": true,
        "phone_number": "555-555-5555"
      }
    }
    ```
  </Collapser>

  <Collapser
    id="account-request"
    title="JSON response"
  >
    ```
    {
      "id": XXXXXX,
      "name": "Sample Account",
      "status": "pending",
      "license_key": "caf8247360d8db295c142c72138fa8fb28df1403",
      "api_key": "86f818b6d81668b6c034661396b71c25bb323d8b8df1403",
      "browser_monitoring_key": "66617123f5",
      "allow_api_access": true,
      "high_security": false,
      "testing": null,
      "partner_external_identifier": null,
      "parent_account_id":XXXXXX,
      "subscription": {
        "id": XXXXXX,
        "starts_on": "2016-05-17",
        "expires_on": null,
        "annual_renewal_on": null,
        "products": [
          {
            "product_id": 4,
            "name": "Pro",
            "units": 10,
            "price": 1990.0
          },
          {
            "product_id": 10,
            "name": "Mobile Lite",
            "units": 0,
            "price": 0.0
          },
          {
            "product_id": 20,
            "name": "Browser Lite",
            "units": 0,
            "price": 0.0
          },
          {
            "product_id": 16,
            "name": "Insights None",
            "units": 0,
            "price": 0.0
          },
          {
            "product_id": 23,
            "name": "Synthetics Lite",
            "units": 0,
            "price": 0.0
          }
        ]
      },
      "primary admin": {
        "id": XXXXXX,
        "email": "sample_user@sample.org",
        "first_name": "Sample",
        "last_name": "User",
        "state": "active"
      }
    }
    ```
  </Collapser>
</CollapserGroup>

## Sub-account object API examples

Here is an example of an API call using the Partnership API sub-account object.

<CollapserGroup>
  <Collapser
    id="example-create"
    title="Create"
  >
    Request:

    ```
    curl -X POST \
    -H 'x-api-key:PARTNER_ACCOUNT_KEY' \
    -H 'Content-Type:application/json' \
    -d '{"sub_account":{"name":"Sample Sub-Account"}, "users":[{"email":"sample_user@sample.org", "password":"XXXXXX", "first_name":"Sample", "last_name":"User", "role":"admin", "owner":"true"}]}' \
    https://rpm.newrelic.com/api/v2/partners/:PARTNER_ID/accounts/:PARENT_ACCOUNT_ID/sub_accounts
    ```

    Response (line breaks are for readability):

    ```
    {
      "id": XXXXXX,
      "name": "Sample Sub-Account",
      "status": "pending",
      "license_key": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
      "api_key": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
      "browser_monitoring_key": "xxxxxxxxxx",
      "allow_api_access": false,
      "high_security": false,
      "testing": null,
      "partner_external_identifier": null,
      "parent_account_id":XXXXXX,
      "subscription": {
        "id": XXXXXX,
        "starts_on": "2016-05-17",
        "expires_on": null,
        "annual_renewal_on": null,
        "products": [
          {
            "product_id": 4,
            "name": "Pro",
            "units": 10,
            "price": 1999.0
          },
          {
            "product_id": 10,
            "name": "Mobile Lite",
            "units": 0,
            "price": 0.0
          },
          {
            "product_id": 20,
            "name": "Browser Lite",
            "units": 0,
            "price": 0.0
          },
          {
            "product_id": 16,
            "name": "Insights None",
            "units": 0,
            "price": 0.0
          },
          {
            "product_id": 23,
            "name": "Synthetics Lite",
            "units": 0,
            "price": 0.0
          }
        ]
      },
      "primary admin": {
        "id": XXXXXX,
        "email": "sample_user@sample.org",
        "first_name": "Sample",
        "last_name": "User",
        "state": "active"
      }
    }
    ```
  </Collapser>
</CollapserGroup>

## For more help

* A parent account may have more than one associated sub_account, but every sub_account must correspond to one and only one parent account.
* Every sub_account must have at least a primary_admin user.
* You cannot create a sub_account without connecting it to an existing parent account and adding at least one user.
